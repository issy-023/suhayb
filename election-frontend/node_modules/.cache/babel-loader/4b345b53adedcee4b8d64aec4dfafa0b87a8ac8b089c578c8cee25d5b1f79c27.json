{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"votes-per-party\"\n};\nconst _hoisted_2 = {\n  class: \"filter-buttons\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[3] || (_cache[3] = _createElementVNode(\"h1\", null, \"Votes Per Party\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $options.toggleSortOrder('votes'))\n  }, \" Sort by Votes (\" + _toDisplayString($data.sortOrder === 'asc' && $data.sortType === 'votes' ? 'Low to High' : 'High to Low') + \") \", 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $options.toggleSortOrder('alphabet'))\n  }, \" Sort Alphabetically (\" + _toDisplayString($data.sortOrder === 'asc' && $data.sortType === 'alphabet' ? 'A-Z' : 'Z-A') + \") \", 1 /* TEXT */)]), _createElementVNode(\"table\", null, [_cache[2] || (_cache[2] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Party Name\"), _createElementVNode(\"th\", null, \"Total Votes\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.parties, party => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: party.name\n    }, [_createElementVNode(\"td\", null, _toDisplayString(party.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.formatVotes(party.totalVotes)), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","$event","$options","toggleSortOrder","_toDisplayString","$data","sortOrder","sortType","_Fragment","_renderList","parties","party","key","name","formatVotes","totalVotes"],"sources":["/Users/suhayb/Documenten/cuuruuvoovii16/election-frontend/src/components/VotesPerPartyPage.vue"],"sourcesContent":["<template>\n  <div class=\"votes-per-party\">\n    <h1>Votes Per Party</h1>\n    <div class=\"filter-buttons\">\n      <button @click=\"toggleSortOrder('votes')\">\n        Sort by Votes ({{ sortOrder === 'asc' && sortType === 'votes' ? 'Low to High' : 'High to Low' }})\n      </button>\n      <button @click=\"toggleSortOrder('alphabet')\">\n        Sort Alphabetically ({{ sortOrder === 'asc' && sortType === 'alphabet' ? 'A-Z' : 'Z-A' }})\n      </button>\n    </div>\n    <table>\n      <thead>\n      <tr>\n        <th>Party Name</th>\n        <th>Total Votes</th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-for=\"party in parties\" :key=\"party.name\">\n        <td>{{ party.name }}</td>\n        <td>{{ formatVotes(party.totalVotes) }}</td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"VotesPerPartyPage\",\n  data() {\n    return {\n      parties: [],\n      sortOrder: \"asc\", // Start met oplopend sorteren\n      sortType: \"votes\", // Sorteertype: 'votes' of 'alphabet'\n    };\n  },\n  mounted() {\n    this.fetchVotesPerParty();\n  },\n  methods: {\n    async fetchVotesPerParty() {\n      try {\n        const response = await fetch(\n            \"http://localhost:8084/api/election-results/votes-per-party\"\n        );\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        this.parties = data.map((party) => ({\n          name: party.name,\n          totalVotes: party.totalVotes,\n        }));\n        this.sortParties(); // Sorteer direct na het ophalen van data\n      } catch (error) {\n        console.error(\"Error fetching votes per party:\", error);\n      }\n    },\n    toggleSortOrder(type) {\n      if (this.sortType === type) {\n        // Wissel alleen de sortOrder als het type hetzelfde is\n        this.sortOrder = this.sortOrder === \"asc\" ? \"desc\" : \"asc\";\n      } else {\n        // Stel nieuw sorteertype in en begin met 'asc'\n        this.sortType = type;\n        this.sortOrder = \"asc\";\n      }\n      this.sortParties();\n    },\n    sortParties() {\n      if (this.sortType === \"votes\") {\n        // Sorteer op stemmen\n        this.parties.sort((a, b) => {\n          return this.sortOrder === \"asc\"\n              ? a.totalVotes - b.totalVotes\n              : b.totalVotes - a.totalVotes;\n        });\n      } else if (this.sortType === \"alphabet\") {\n        // Sorteer alfabetisch\n        this.parties.sort((a, b) => {\n          return this.sortOrder === \"asc\"\n              ? a.name.localeCompare(b.name)\n              : b.name.localeCompare(a.name);\n        });\n      }\n    },\n    formatVotes(votes) {\n      // Formatteer het aantal stemmen naar een leesbare notatie (bijv. '1.234.567')\n      return votes.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n.votes-per-party {\n  margin: 20px;\n  text-align: center;\n}\n\n.filter-buttons {\n  margin-bottom: 20px;\n}\n\nbutton {\n  margin: 0 10px;\n  padding: 10px 20px;\n  background-color: #ff9933;\n  border: none;\n  border-radius: 5px;\n  color: white;\n  font-size: 16px;\n  cursor: pointer;\n}\n\nbutton:hover {\n  background-color: #e68a00;\n}\n\ntable {\n  width: 80%;\n  margin: auto;\n  border-collapse: collapse;\n}\n\nth,\ntd {\n  border: 1px solid #ccc;\n  padding: 10px;\n  text-align: center;\n}\n\nth {\n  background-color: #f4f4f4;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAiB;;EAErBA,KAAK,EAAC;AAAgB;;uBAF7BC,mBAAA,CAwBM,OAxBNC,UAwBM,G,0BAvBJC,mBAAA,CAAwB,YAApB,iBAAe,sBACnBA,mBAAA,CAOM,OAPNC,UAOM,GANJD,mBAAA,CAES;IAFAE,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,eAAe;KAAW,kBACzB,GAAAC,gBAAA,CAAGC,KAAA,CAAAC,SAAS,cAAcD,KAAA,CAAAE,QAAQ,gDAA+C,IAClG,iBACAV,mBAAA,CAES;IAFAE,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,eAAe;KAAc,wBACtB,GAAAC,gBAAA,CAAGC,KAAA,CAAAC,SAAS,cAAcD,KAAA,CAAAE,QAAQ,mCAAkC,IAC3F,gB,GAEFV,mBAAA,CAaQ,gB,0BAZNA,mBAAA,CAKQ,gBAJRA,mBAAA,CAGK,aAFHA,mBAAA,CAAmB,YAAf,YAAU,GACdA,mBAAA,CAAoB,YAAhB,aAAW,E,wBAGjBA,mBAAA,CAKQ,iB,kBAJRF,mBAAA,CAGKa,SAAA,QAtBXC,WAAA,CAmB0BJ,KAAA,CAAAK,OAAO,EAAhBC,KAAK;yBAAhBhB,mBAAA,CAGK;MAHyBiB,GAAG,EAAED,KAAK,CAACE;QACvChB,mBAAA,CAAyB,YAAAO,gBAAA,CAAlBO,KAAK,CAACE,IAAI,kBACjBhB,mBAAA,CAA4C,YAAAO,gBAAA,CAArCF,QAAA,CAAAY,WAAW,CAACH,KAAK,CAACI,UAAU,kB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}