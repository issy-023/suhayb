{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapGetters, mapActions } from 'vuex';\nexport default {\n  name: 'CommunityChatComponent',\n  props: ['communityId'],\n  data() {\n    return {\n      onlineUsers: [{\n        id: 1,\n        name: 'billowingsun',\n        color: '#f39c12'\n      }, {\n        id: 2,\n        name: 'littlesea',\n        color: '#8e44ad'\n      }],\n      // example users\n      chatMessages: [{\n        userId: 2,\n        username: 'littlesea',\n        text: 'Hello!',\n        color: '#8e44ad'\n      }, {\n        userId: 1,\n        username: 'billowingsun',\n        text: 'Hi, how are you?',\n        color: '#f39c12'\n      }],\n      // example messages\n      newMessage: '' // input for new message\n    };\n  },\n  computed: {\n    ...mapGetters(['userId'])\n  },\n  methods: {\n    ...mapActions(['leaveCommunity']),\n    async leaveCommunity() {\n      try {\n        const response = await fetch(`http://localhost:8084/api/communities/${this.communityId}/leave?userId=${this.userId}`, {\n          method: 'DELETE'\n        });\n        if (!response.ok) throw new Error('Failed to leave the community');\n        this.leaveCommunity();\n        this.$router.push({\n          name: 'Communities'\n        });\n      } catch (error) {\n        console.error('Error leaving community:', error);\n      }\n    },\n    sendMessage() {\n      if (this.newMessage.trim()) {\n        this.chatMessages.push({\n          userId: this.userId,\n          username: 'You',\n          // replace with actual username if available\n          text: this.newMessage,\n          color: '#f39c12' // replace with dynamic user color if needed\n        });\n        this.newMessage = '';\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","mapActions","name","props","data","onlineUsers","id","color","chatMessages","userId","username","text","newMessage","computed","methods","leaveCommunity","response","fetch","communityId","method","ok","Error","$router","push","error","console","sendMessage","trim"],"sources":["/Users/suhayb/Documenten/cuuruuvoovii16/election-frontend/src/components/HomePage.vue"],"sourcesContent":["<template>\n  <div class=\"community-chat\">\n\n    <!-- Header Section -->\n    <div class=\"chat-header\">\n      <h2>Community Chat App</h2>\n      <button @click=\"leaveCommunity\" class=\"leave-button\">Leave Community</button>\n    </div>\n\n    <!-- Online Users Section -->\n    <div class=\"users-online\">\n      <h4>{{ onlineUsers.length }} users online</h4>\n      <ul>\n        <li v-for=\"user in onlineUsers\" :key=\"user.id\" :class=\"{'current-user': user.id === userId}\">\n          <span :style=\"{ backgroundColor: user.color }\" class=\"user-avatar\"></span>\n          <span>{{ user.name }} <span v-if=\"user.id === userId\">(you)</span></span>\n        </li>\n      </ul>\n    </div>\n\n    <!-- Chat Messages Section -->\n    <div class=\"chat-messages\">\n      <div v-for=\"(message, index) in chatMessages\" :key=\"index\" :class=\"{'own-message': message.userId === userId}\" class=\"chat-message\">\n        <span :style=\"{ backgroundColor: message.color }\" class=\"message-avatar\"></span>\n        <div class=\"message-content\">\n          <span class=\"message-user\">{{ message.username }}</span>\n          <p>{{ message.text }}</p>\n        </div>\n      </div>\n    </div>\n\n    <!-- Message Input Section -->\n    <div class=\"message-input\">\n      <input type=\"text\" v-model=\"newMessage\" @keyup.enter=\"sendMessage\" placeholder=\"Enter your message and press ENTER\" />\n      <button @click=\"sendMessage\" class=\"send-button\">Send</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n  name: 'CommunityChatComponent',\n  props: ['communityId'],\n  data() {\n    return {\n      onlineUsers: [\n        { id: 1, name: 'billowingsun', color: '#f39c12' },\n        { id: 2, name: 'littlesea', color: '#8e44ad' },\n      ], // example users\n      chatMessages: [\n        { userId: 2, username: 'littlesea', text: 'Hello!', color: '#8e44ad' },\n        { userId: 1, username: 'billowingsun', text: 'Hi, how are you?', color: '#f39c12' },\n      ], // example messages\n      newMessage: '', // input for new message\n    };\n  },\n  computed: {\n    ...mapGetters(['userId']),\n  },\n  methods: {\n    ...mapActions(['leaveCommunity']),\n\n    async leaveCommunity() {\n      try {\n        const response = await fetch(`http://localhost:8084/api/communities/${this.communityId}/leave?userId=${this.userId}`, {\n          method: 'DELETE',\n        });\n\n        if (!response.ok) throw new Error('Failed to leave the community');\n\n        this.leaveCommunity();\n        this.$router.push({ name: 'Communities' });\n      } catch (error) {\n        console.error('Error leaving community:', error);\n      }\n    },\n\n    sendMessage() {\n      if (this.newMessage.trim()) {\n        this.chatMessages.push({\n          userId: this.userId,\n          username: 'You', // replace with actual username if available\n          text: this.newMessage,\n          color: '#f39c12', // replace with dynamic user color if needed\n        });\n        this.newMessage = '';\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n* {\n  font-family: \"Outfit\", sans-serif;\n}\n\n.community-chat {\n  width: 600px;\n  margin: auto;\n  font-family: \"Outfit\", sans-serif;\n  color: #17003C;\n  padding: 2rem;\n}\n\n.chat-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n\n.leave-button {\n  background-color: #FF9900;\n  color: white;\n  border: 7px solid #17003C;\n  padding: 0.5rem 1rem;\n  font-size: 1.5rem;\n  cursor: pointer;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n  border-radius: 100px;\n}\n\n.leave-button:hover {\n  background-color: #17003C;\n  border-color: #FF9900;\n}\n\n.users-online {\n  background-color: #F1F1F1;\n  padding: 1rem;\n  border-radius: 12px;\n  margin-bottom: 1.5rem;\n}\n\n.users-online ul {\n  list-style: none;\n  padding: 0;\n}\n\n.users-online li {\n  display: flex;\n  align-items: center;\n  margin-bottom: 0.5rem;\n  font-weight: 600;\n}\n\n.user-avatar {\n  width: 15px;\n  height: 15px;\n  border-radius: 50%;\n  margin-right: 0.5rem;\n}\n\n.chat-messages {\n  background-color: #F1F1F1;\n  padding: 1.5rem;\n  border-radius: 12px;\n  max-height: 400px;\n  overflow-y: auto;\n  margin-bottom: 1.5rem;\n}\n\n.chat-message {\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n\n.message-avatar {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  margin-right: 0.75rem;\n}\n\n.message-content {\n  background-color: #E0E0E0;\n  padding: 0.5rem 1rem;\n  border-radius: 12px;\n}\n\n.own-message .message-content {\n  background-color: #D1EAFF;\n}\n\n.message-user {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 0.3rem;\n}\n\n.message-input {\n  display: flex;\n  align-items: center;\n}\n\n.message-input input {\n  flex: 1;\n  padding: 1rem;\n  border-radius: 50px;\n  border: 1px solid #ccc;\n  margin-right: 1rem;\n  font-size: 1.2rem;\n}\n\n.send-button {\n  background-color: #FF9900;\n  color: white;\n  border: 7px solid #17003C;\n  padding: 0.8rem 1.5rem;\n  font-size: 1.5rem;\n  cursor: pointer;\n  border-radius: 50px;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n}\n\n.send-button:hover {\n  background-color: #17003C;\n  border-color: #FF9900;\n}\n</style>\n"],"mappings":";AAwCA,SAASA,UAAU,EAAEC,UAAS,QAAS,MAAM;AAE7C,eAAe;EACbC,IAAI,EAAE,wBAAwB;EAC9BC,KAAK,EAAE,CAAC,aAAa,CAAC;EACtBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,WAAW,EAAE,CACX;QAAEC,EAAE,EAAE,CAAC;QAAEJ,IAAI,EAAE,cAAc;QAAEK,KAAK,EAAE;MAAU,CAAC,EACjD;QAAED,EAAE,EAAE,CAAC;QAAEJ,IAAI,EAAE,WAAW;QAAEK,KAAK,EAAE;MAAU,CAAC,CAC/C;MAAE;MACHC,YAAY,EAAE,CACZ;QAAEC,MAAM,EAAE,CAAC;QAAEC,QAAQ,EAAE,WAAW;QAAEC,IAAI,EAAE,QAAQ;QAAEJ,KAAK,EAAE;MAAU,CAAC,EACtE;QAAEE,MAAM,EAAE,CAAC;QAAEC,QAAQ,EAAE,cAAc;QAAEC,IAAI,EAAE,kBAAkB;QAAEJ,KAAK,EAAE;MAAU,CAAC,CACpF;MAAE;MACHK,UAAU,EAAE,EAAE,CAAE;IAClB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACR,GAAGb,UAAU,CAAC,CAAC,QAAQ,CAAC;EAC1B,CAAC;EACDc,OAAO,EAAE;IACP,GAAGb,UAAU,CAAC,CAAC,gBAAgB,CAAC,CAAC;IAEjC,MAAMc,cAAcA,CAAA,EAAG;MACrB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMC,KAAK,CAAC,yCAAyC,IAAI,CAACC,WAAW,iBAAiB,IAAI,CAACT,MAAM,EAAE,EAAE;UACpHU,MAAM,EAAE;QACV,CAAC,CAAC;QAEF,IAAI,CAACH,QAAQ,CAACI,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,+BAA+B,CAAC;QAElE,IAAI,CAACN,cAAc,CAAC,CAAC;QACrB,IAAI,CAACO,OAAO,CAACC,IAAI,CAAC;UAAErB,IAAI,EAAE;QAAc,CAAC,CAAC;MAC5C,EAAE,OAAOsB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAClD;IACF,CAAC;IAEDE,WAAWA,CAAA,EAAG;MACZ,IAAI,IAAI,CAACd,UAAU,CAACe,IAAI,CAAC,CAAC,EAAE;QAC1B,IAAI,CAACnB,YAAY,CAACe,IAAI,CAAC;UACrBd,MAAM,EAAE,IAAI,CAACA,MAAM;UACnBC,QAAQ,EAAE,KAAK;UAAE;UACjBC,IAAI,EAAE,IAAI,CAACC,UAAU;UACrBL,KAAK,EAAE,SAAS,CAAE;QACpB,CAAC,CAAC;QACF,IAAI,CAACK,UAAS,GAAI,EAAE;MACtB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}