{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapGetters, mapActions } from 'vuex';\nexport default {\n  name: 'CommunityChatComponent',\n  props: ['communityId'],\n  data() {\n    return {\n      Users: [],\n      chatMessages: [],\n      newMessage: ''\n    };\n  },\n  computed: {\n    ...mapGetters(['userId'])\n  },\n  methods: {\n    ...mapActions(['leaveCommunity']),\n    async leaveCommunity() {\n      try {\n        const response = await fetch(`http://localhost:8084/api/communities/${this.communityId}/leave?userId=${this.userId}`, {\n          method: 'DELETE'\n        });\n        if (!response.ok) throw new Error('Failed to leave the community');\n        this.leaveCommunity();\n        this.$router.push({\n          name: 'Communities'\n        });\n      } catch (error) {\n        console.error('Error leaving community:', error);\n      }\n    },\n    sendMessage() {\n      if (this.newMessage.trim()) {\n        this.chatMessages.push({\n          userId: this.userId,\n          username: 'You',\n          text: this.newMessage,\n          color: '#f39c12'\n        });\n        this.newMessage = '';\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","mapActions","name","props","data","Users","chatMessages","newMessage","computed","methods","leaveCommunity","response","fetch","communityId","userId","method","ok","Error","$router","push","error","console","sendMessage","trim","username","text","color"],"sources":["/Users/suhayb/Documenten/cuuruuvoovii16/election-frontend/src/components/CommunityChatPage.vue"],"sourcesContent":["<template>\n  <div class=\"community-chat\">\n    <div class=\"chat-header\">\n      <h2>Community Chat App</h2>\n\n    </div>\n    <div class=\"users-online\">\n      <h4>{{ onlineUsers.length }} users online</h4>\n      <ul>\n        <li v-for=\"user in onlineUsers\" :key=\"user.id\" :class=\"{'current-user': user.id === userId}\">\n          <span :style=\"{ backgroundColor: user.color }\" class=\"user-avatar\"></span>\n          <span>{{ user.name }} <span v-if=\"user.id === userId\">(you)</span></span>\n        </li>\n      </ul>\n    </div>\n    <div class=\"chat-messages\">\n      <div v-for=\"(message, index) in chatMessages\" :key=\"index\" :class=\"{'own-message': message.userId === userId}\" class=\"chat-message\">\n        <span :style=\"{ backgroundColor: message.color }\" class=\"message-avatar\"></span>\n        <div class=\"message-content\">\n          <span class=\"message-user\">{{ message.username }}</span>\n          <p>{{ message.text }}</p>\n        </div>\n      </div>\n    </div> <button @click=\"leaveCommunity\" class=\"leave-button\">Leave Community</button>\n    <div class=\"message-input\">\n      <input type=\"text\" v-model=\"newMessage\" @keyup.enter=\"sendMessage\" placeholder=\"Enter your message and press ENTER\" />\n      <button @click=\"sendMessage\" class=\"send-button\">Send</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n  name: 'CommunityChatComponent',\n  props: ['communityId'],\n  data() {\n    return {\n      Users: [\n\n      ],\n      chatMessages: [\n\n      ],\n      newMessage: '',\n    };\n  },\n  computed: {\n    ...mapGetters(['userId']),\n  },\n  methods: {\n    ...mapActions(['leaveCommunity']),\n\n    async leaveCommunity() {\n      try {\n        const response = await fetch(`http://localhost:8084/api/communities/${this.communityId}/leave?userId=${this.userId}`, {\n          method: 'DELETE',\n        });\n\n        if (!response.ok) throw new Error('Failed to leave the community');\n\n        this.leaveCommunity();\n        this.$router.push({name: 'Communities'});\n      } catch (error) {\n        console.error('Error leaving community:', error);\n      }\n    },\n\n    sendMessage() {\n      if (this.newMessage.trim()) {\n        this.chatMessages.push({\n          userId: this.userId,\n          username: 'You',\n          text: this.newMessage,\n          color: '#f39c12',\n        });\n        this.newMessage = '';\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n* {\n  font-family: \"Outfit\", sans-serif;\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nhtml, body {\n  height: 100%;\n  overflow: hidden;\n}\n\n.community-chat {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #F9F9F9;\n  color: #17003C;\n  width: 100vw;\n  height: 100vh;\n  padding: 1.5rem;\n  overflow: hidden;\n}\n\n.chat-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  max-width: 800px;\n  margin-bottom: 1rem;\n}\n\n.leave-button {\n  background-color: #FF9900;\n  color: white;\n  border: 7px solid #17003C;\n  padding: 0.5rem 1rem;\n  font-size: 1.5rem;\n  cursor: pointer;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n  border-radius: 100px;\n}\n\n.leave-button:hover {\n  background-color: #17003C;\n  border-color: #FF9900;\n}\n\n.users-online {\n  background-color: #F1F1F1;\n  padding: 1rem;\n  border-radius: 12px;\n  margin-bottom: 1rem;\n  width: 100%;\n  max-width: 800px;\n}\n\n.users-online ul {\n  list-style: none;\n}\n\n.users-online li {\n  display: flex;\n  align-items: center;\n  margin-bottom: 0.5rem;\n  font-weight: 600;\n}\n\n.user-avatar {\n  width: 15px;\n  height: 15px;\n  border-radius: 50%;\n  margin-right: 0.5rem;\n}\n\n.chat-messages {\n  background-color: #F1F1F1;\n  padding: 1rem;\n  border-radius: 12px;\n  flex: 1;\n  width: 100%;\n  max-width: 800px;\n  overflow-y: auto;\n  margin-bottom: 1rem;\n}\n\n.chat-message {\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n\n.message-avatar {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  margin-right: 0.75rem;\n}\n\n.message-content {\n  background-color: #E0E0E0;\n  padding: 0.5rem 1rem;\n  border-radius: 12px;\n}\n\n.own-message .message-content {\n  background-color: #D1EAFF;\n}\n\n.message-user {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 0.3rem;\n}\n\n.message-input {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 800px;\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n  background-color: #F9F9F9;\n  position: sticky;\n  bottom: 0;\n}\n\n.message-input input {\n  flex: 1;\n  padding: 1rem;\n  border-radius: 50px;\n  border: 1px solid #ccc;\n  margin-right: 1rem;\n  font-size: 1.2rem;\n}\n\n.send-button {\n  background-color: #FF9900;\n  color: white;\n  border: 7px solid #17003C;\n  padding: 0.8rem 1.5rem;\n  font-size: 1.5rem;\n  cursor: pointer;\n  border-radius: 50px;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n}\n\n.send-button:hover {\n  background-color: #17003C;\n  border-color: #FF9900;\n}\n</style>\n"],"mappings":";AAgCA,SAASA,UAAU,EAAEC,UAAS,QAAS,MAAM;AAE7C,eAAe;EACbC,IAAI,EAAE,wBAAwB;EAC9BC,KAAK,EAAE,CAAC,aAAa,CAAC;EACtBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAEN;MACDC,YAAY,EAAE,EAEb;MACDC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACR,GAAGR,UAAU,CAAC,CAAC,QAAQ,CAAC;EAC1B,CAAC;EACDS,OAAO,EAAE;IACP,GAAGR,UAAU,CAAC,CAAC,gBAAgB,CAAC,CAAC;IAEjC,MAAMS,cAAcA,CAAA,EAAG;MACrB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMC,KAAK,CAAC,yCAAyC,IAAI,CAACC,WAAW,iBAAiB,IAAI,CAACC,MAAM,EAAE,EAAE;UACpHC,MAAM,EAAE;QACV,CAAC,CAAC;QAEF,IAAI,CAACJ,QAAQ,CAACK,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,+BAA+B,CAAC;QAElE,IAAI,CAACP,cAAc,CAAC,CAAC;QACrB,IAAI,CAACQ,OAAO,CAACC,IAAI,CAAC;UAACjB,IAAI,EAAE;QAAa,CAAC,CAAC;MAC1C,EAAE,OAAOkB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAClD;IACF,CAAC;IAEDE,WAAWA,CAAA,EAAG;MACZ,IAAI,IAAI,CAACf,UAAU,CAACgB,IAAI,CAAC,CAAC,EAAE;QAC1B,IAAI,CAACjB,YAAY,CAACa,IAAI,CAAC;UACrBL,MAAM,EAAE,IAAI,CAACA,MAAM;UACnBU,QAAQ,EAAE,KAAK;UACfC,IAAI,EAAE,IAAI,CAAClB,UAAU;UACrBmB,KAAK,EAAE;QACT,CAAC,CAAC;QACF,IAAI,CAACnB,UAAS,GAAI,EAAE;MACtB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}